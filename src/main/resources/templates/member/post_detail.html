<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title th:text="${post.title}">Chi ti·∫øt xe</title>

    <link rel="stylesheet" th:href="@{/css/style.css}">
    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">

    <style>
        body {
            background: linear-gradient(135deg, #fdfbff, #f3faff);
            min-height: 100vh;
        }

        .page-container {
            margin-left: 0;
            padding: 32px 12px;
            display: flex;
            justify-content: center;
        }

        .detail-box {
            background-color: #ffffff;
            padding: 28px;
            border-radius: 20px;
            box-shadow: 0 14px 32px rgba(0,0,0,0.06);
            max-width: 960px;
            width: 100%;
        }

        .car-image {
            width: 100%;
            max-height: 450px;
            object-fit: contain;
            border-radius: 12px;
            margin-bottom: 20px;
            background: #ffffff;
        }

        .product-title {
            font-size: 26px;
            font-weight: 600;
            margin-bottom: 8px;
        }

        .price-box {
            background: linear-gradient(135deg, #fff7f5, #ffeef3);
            padding: 14px 16px;
            border-radius: 16px;
            margin-bottom: 18px;
        }

        .price-main {
            font-size: 28px;
            font-weight: 700;
            color: #e53935;
        }

        .price-note {
            font-size: 12px;
            color: #777;
            margin-top: 4px;
        }

        .meta {
            font-size: 14px;
            color: #555;
            margin-bottom: 4px;
        }

        .meta span {
            color: #333;
            font-weight: 500;
        }

        .description-title {
            font-size: 18px;
            font-weight: 600;
            margin-top: 16px;
            margin-bottom: 6px;
        }

        .description-text {
            white-space: pre-line;
            line-height: 1.6;
            font-size: 15px;
            color: #333;
        }

        .btn-pastel-main {
            background: linear-gradient(135deg, #3ed6a6, #2fb1e0);
            border: none;
            color: #fff;
            font-weight: 600;
            padding: 10px 22px;
            border-radius: 999px;
            box-shadow: 0 8px 18px rgba(47,177,224,0.35);
        }

        .btn-pastel-main:hover {
            filter: brightness(0.96);
            color: #fff;
        }

        .btn-pastel-warn {
            background: linear-gradient(135deg, #ffd460, #ff9a62);
            border: none;
            color: #fff;
            font-weight: 600;
            padding: 10px 22px;
            border-radius: 999px;
            box-shadow: 0 8px 18px rgba(255,152,74,0.35);
        }

        .btn-pastel-warn:hover {
            filter: brightness(0.96);
            color: #fff;
        }

        .btn-back {
            border-radius: 999px;
            padding: 10px 20px;
            border: 1px solid rgba(158,158,158,0.4);
            background: rgba(255,255,255,0.85);
            color: #5f6368;
            font-weight: 600;
        }

        @media (max-width: 768px) {
            .page-container { padding: 16px; }
            .detail-box { padding: 20px; }
        }
    </style>
</head>

<body>

<div th:replace="~{fragments/header :: header}"></div>

<div class="page-container">
    <div class="detail-box">

        <!-- ·∫¢nh xe -->
        <img th:if="${post.imagePath != null}"
             th:src="${post.imagePath}"
             class="car-image"
             alt="·∫¢nh xe">

        <!-- Ti√™u ƒë·ªÅ -->
        <h2 th:text="${post.title}" class="product-title">Ti√™u ƒë·ªÅ tin</h2>

        <!-- Gi√° -->
        <div class="price-box" th:if="${post.price != null}">
            <div class="price-main">
                <span th:text="${#numbers.formatDecimal(post.price, 0, 'COMMA', 0, 'POINT')}">0</span> ƒë
            </div>
            <div class="price-note">Gi√° ƒë√£ bao g·ªìm VAT (n·∫øu c√≥)</div>
        </div>

        <!-- Meta -->
        <p class="meta">
            ƒê·ªãa ƒëi·ªÉm:
            <span th:text="${post.location}">Ch∆∞a r√µ</span>
        </p>

        <p class="meta">
            Ng√†y ƒëƒÉng:
            <span th:text="${#temporals.format(post.createdAt, 'dd/MM/yyyy HH:mm')}">
                01/01/2025 00:00
            </span>
        </p>

        <p class="meta">
            Tr·∫°ng th√°i:
            <span th:text="${post.status}">APPROVED</span>
        </p>

        <p class="meta">
            Ng∆∞·ªùi b√°n:
            <span th:text="${post.authorName}">Admin</span>
        </p>

        <hr>

        <!-- N·ªôi dung -->
        <div class="description-title">M√¥ t·∫£ chi ti·∫øt</div>
        <p th:text="${post.content}" class="description-text">
            N·ªôi dung chi ti·∫øt...
        </p>

        <!-- N√∫t -->
        <div class="mt-4 d-flex gap-2 flex-wrap">

            <th:block th:if="${post.status != 'SOLD'}">

                <a th:href="@{/transactions/checkout(postId=${post.id}, type='FULL')}"
                   class="btn btn-pastel-main flex-grow-1 text-center">
                    MUA NGAY (100%)
                </a>

                <a th:href="@{/transactions/checkout(postId=${post.id}, type='DEPOSIT')}"
                   class="btn btn-pastel-warn flex-grow-1 text-center">
                    ƒê·∫∂T C·ªåC (10%)
                </a>

            </th:block>

            <button th:if="${post.status == 'SOLD'}"
                    class="btn btn-secondary btn-back flex-grow-1" disabled>
                üö´ XE ƒê√É ƒê∆Ø·ª¢C B√ÅN
            </button>

            <a th:href="@{/home}" class="btn btn-back ms-auto">
                ‚Üê Quay l·∫°i
            </a>
        </div>

    </div>
</div>

<div th:replace="~{fragments/footer :: footer}"></div>

</body>
</html>
