<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title th:text="${post.title}">Tin đăng</title>
    <link rel="stylesheet" th:href="@{/css/style.css}">
    <script th:src="@{/js/script.js}" defer></script>
</head>
<body>

<!-- Header -->
<div th:replace="fragments/header :: header"></div>

<div class="auth-wrapper">
    <div class="auth-box" style="max-width:760px;">

        <!-- ẢNH TIN -->
        <img th:if="${post.imagePath != null}"
             th:src="${post.imagePath}"
             style="width:100%;height:360px;object-fit:cover;border-radius:12px;">

        <!-- TIÊU ĐỀ -->
        <h2 th:text="${post.title}" style="margin-top:12px;"></h2>

        <!-- DANH MỤC -->
        <p>
            <b>Danh mục:</b>
            <span th:text="${post.category}"></span>
        </p>

        <!-- ĐỊA ĐIỂM -->
        <p th:if="${post.location != null}">
            <b>Địa điểm:</b>
            <span th:text="${post.location}"></span>
        </p>

        <!-- GIÁ -->
        <p>
            <b>Giá:</b>
            <span th:text="${post.price != null ?
                            #numbers.formatDecimal(post.price, 0, 'POINT', 0, 'POINT') + ' đ'
                            : 'Liên hệ'}">
            </span>
        </p>

        <!-- NGƯỜI ĐĂNG -->
        <p>
            <b>Người đăng:</b>
            <span th:text="${post.authorName != null ? post.authorName : 'Ẩn danh'}">Ẩn danh</span>
        </p>

        <!-- NỘI DUNG -->
        <p th:text="${post.content}" style="white-space:pre-line;"></p>

        <!-- NÚT -->
        <div style="display:flex;gap:10px;margin-top:10px;">
            <a href="/posts" class="btn-outline">← Quay lại</a>
            <a th:href="@{'/posts/' + ${post.id} + '/edit'}" class="btn-primary">Sửa tin</a>
        </div>
    </div>
</div>

<!-- Footer -->
<div th:replace="fragments/footer :: footer"></div>

</body>
</html>
