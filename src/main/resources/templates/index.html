<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>EV Trading Platform âš¡</title>
    <link rel="stylesheet" th:href="@{/css/style.css}">
    <script th:src="@{/js/script.js}" defer></script>
</head>
<body>

<!-- Header -->
<div th:replace="~{fragments/header :: header}"></div>

<!-- HERO -->
<section class="hero">
    <div class="hero-content">
        <h1>ChÃ o má»«ng Ä‘áº¿n vá»›i <span>EV Trading Platform âš¡</span></h1>
        <p>KhÃ¡m phÃ¡ cÃ¡c xe Ä‘iá»‡n vÃ  pin Ä‘Ã£ qua sá»­ dá»¥ng Ä‘Æ°á»£c Ä‘Äƒng má»›i nháº¥t hÃ´m nay!</p>
    </div>
</section>

<!-- â­ Báº¢NG TIN + Bá»˜ Lá»ŒC -->
<section class="posts-section"
         th:if="${posts != null}"
         th:fragment="postsSection">

    <div class="posts-header">
        <h2 class="posts-title">Báº£ng tin xe Ä‘iá»‡n &amp; pin má»›i nháº¥t</h2>

        <form class="posts-filter" th:action="@{/}" method="get">
            <!-- Ã´ tÃ¬m kiáº¿m: náº¿u q null thÃ¬ rá»—ng -->
            <input type="text"
                   name="q"
                   class="filter-input"
                   placeholder="ğŸ” TÃ¬m theo tiÃªu Ä‘á» hoáº·c Ä‘á»‹a Ä‘iá»ƒm..."
                   th:value="${q}">

            <select name="type" class="filter-select">
                <option value=""
                        th:selected="${type == null or type == ''}">
                    Táº¥t cáº£ loáº¡i tin
                </option>
                <option value="EV" th:selected="${type == 'EV'}">Xe Ä‘iá»‡n</option>
                <option value="PIN" th:selected="${type == 'PIN'}">Pin nÄƒng lÆ°á»£ng</option>
            </select>

            <button type="submit" class="filter-btn">Lá»c</button>

            <!-- â­ NÃšT RESET -->
            <a th:href="@{/}" class="filter-reset">Reset</a>
        </form>
    </div>

    <!-- LÆ°á»›i bÃ i Ä‘Äƒng -->
    <div class="post-grid">
        <div class="post-card" th:each="p : ${posts}">

            <img th:if="${p.imagePath != null}"
                 th:src="@{${p.imagePath}}"
                 alt="áº¢nh tin"
                 class="post-image">

            <h3 class="post-title" th:text="${p.title}">TiÃªu Ä‘á»</h3>

            <p class="post-meta">
                <span th:text="${p.location}">Äá»‹a Ä‘iá»ƒm</span>
                â€¢
                <span th:text="${p.category == 'EV' ? 'Xe Ä‘iá»‡n' :
                                (p.category == 'PIN' ? 'Pin nÄƒng lÆ°á»£ng' : p.category)}">
                    Loáº¡i tin
                </span>
            </p>

            <p class="post-price"
               th:if="${p.price != null}"
               th:text="${#numbers.formatDecimal(p.price, 0, 'COMMA', 0, 'POINT')} + ' Ä‘'">
                0 Ä‘
            </p>

            <a th:href="@{|/posts/${p.id}|}" class="btn-outline">Xem chi tiáº¿t</a>
        </div>
    </div>

</section>

<!-- â­ 3 CARD DANH Má»¤C á» DÆ¯á»šI Báº¢NG TIN -->
<section class="categories">
    <div class="card">
        <img src="https://cdn-icons-png.flaticon.com/512/483/483361.png" alt="EV Market">
        <h3>Thá»‹ trÆ°á»ng xe Ä‘iá»‡n</h3>
        <p>Mua bÃ¡n xe Ä‘iá»‡n Ä‘Ã£ qua sá»­ dá»¥ng vá»›i thÃ´ng tin minh báº¡ch vÃ  Ä‘Ã¡ng tin cáº­y.</p>
        <a href="/market" class="btn">Xem ngay</a>
    </div>

    <div class="card">
        <img src="https://cdn-icons-png.flaticon.com/512/1048/1048947.png" alt="Battery Trading">
        <h3>Thá»‹ trÆ°á»ng pin</h3>
        <p>Giao dá»‹ch pin nÄƒng lÆ°á»£ng, kiá»ƒm Ä‘á»‹nh cháº¥t lÆ°á»£ng vÃ  vÃ²ng Ä‘á»i sáº£n pháº©m.</p>
        <a href="/battery" class="btn">KhÃ¡m phÃ¡</a>
    </div>

    <div class="card">
        <img src="https://cdn-icons-png.flaticon.com/512/2950/2950679.png" alt="About EV Trading">
        <h3>Giá»›i thiá»‡u</h3>
        <p>TÃ¬m hiá»ƒu thÃªm vá» ná»n táº£ng vÃ  sá»© má»‡nh cá»§a EV Trading Platform.</p>
        <a href="/about" class="btn">TÃ¬m hiá»ƒu</a>
    </div>
</section>

<!-- Footer -->
<footer class="footer">
    <p>Â© 2025 EV Trading Platform âš¡ â€” Ná»n táº£ng giao dá»‹ch xe Ä‘iá»‡n &amp; pin Ä‘Ã£ qua sá»­ dá»¥ng</p>
</footer>

</body>
</html>
