<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>EV Trading Platform ‚ö°</title>
    <link rel="stylesheet" th:href="@{/css/style.css}">
    <script th:src="@{/js/script.js}" defer></script>
</head>
<body>

<!-- Header -->
<div th:replace="fragments/header :: header"></div>

<!-- HERO -->
<section class="hero">
    <div class="hero-content">
        <h1>Ch√†o m·ª´ng ƒë·∫øn v·ªõi <span>EV Trading Platform ‚ö°</span></h1>
        <p>Kh√°m ph√° c√°c xe ƒëi·ªán v√† pin ƒë√£ qua s·ª≠ d·ª•ng ƒë∆∞·ª£c ƒëƒÉng m·ªõi nh·∫•t h√¥m nay!</p>
        <!-- ƒê√É B·ªé N√öT "Kh√°m ph√° th·ªã tr∆∞·ªùng" -->
    </div>
</section>

<!-- ‚≠ê B·∫¢NG TIN + B·ªò L·ªåC -->
<section class="posts-section" th:if="${posts != null}">

    <div class="posts-header">
        <h2 class="posts-title">B·∫£ng tin xe ƒëi·ªán &amp; pin m·ªõi nh·∫•t</h2>

        <form class="posts-filter" th:action="@{/}" method="get">

            <input type="text"
                   name="q"
                   class="filter-input"
                   placeholder="üîç T√¨m theo ti√™u ƒë·ªÅ ho·∫∑c ƒë·ªãa ƒëi·ªÉm..."
                   th:value="${q}">

            <select name="type" class="filter-select">
                <option value="" th:selected="${type == null or type == ''}">
                    T·∫•t c·∫£ lo·∫°i tin
                </option>
                <option value="EV" th:selected="${type == 'EV'}">Xe ƒëi·ªán</option>
                <option value="PIN" th:selected="${type == 'PIN'}">Pin nƒÉng l∆∞·ª£ng</option>
            </select>

            <button type="submit" class="filter-btn">L·ªçc</button>

            <!-- ‚≠ê N√öT RESET -->
            <a href="/" class="filter-reset">Reset</a>

        </form>
    </div>

    <!-- L∆∞·ªõi b√†i ƒëƒÉng -->
    <div class="post-grid">
        <div class="post-card" th:each="p : ${posts}">

            <img th:if="${p.imagePath != null}"
                 th:src="${p.imagePath}"
                 alt="·∫¢nh tin"
                 class="post-image">

            <h3 class="post-title" th:text="${p.title}"></h3>

            <p class="post-meta">
                <span th:text="${p.location}"></span>
                ‚Ä¢
                <span th:text="${p.category == 'EV' ? 'Xe ƒëi·ªán' :
                                (p.category == 'PIN' ? 'Pin nƒÉng l∆∞·ª£ng' : p.category)}"></span>
            </p>

            <p class="post-price"
               th:if="${p.price != null}"
               th:text="${#numbers.formatDecimal(p.price, 0, 'POINT', 0, 'POINT')} + ' ƒë'">
            </p>

            <a th:href="@{'/posts/' + ${p.id}}" class="btn-outline">Xem chi ti·∫øt</a>
        </div>
    </div>

</section>

<!-- ‚≠ê 3 CARD DANH M·ª§C ·ªû D∆Ø·ªöI B·∫¢NG TIN -->
<section class="categories">
    <div class="card">
        <img src="https://cdn-icons-png.flaticon.com/512/483/483361.png" alt="EV Market">
        <h3>Th·ªã tr∆∞·ªùng xe ƒëi·ªán</h3>
        <p>Mua b√°n xe ƒëi·ªán ƒë√£ qua s·ª≠ d·ª•ng v·ªõi th√¥ng tin minh b·∫°ch v√† ƒë√°ng tin c·∫≠y.</p>
        <a href="/market" class="btn">Xem ngay</a>
    </div>

    <div class="card">
        <img src="https://cdn-icons-png.flaticon.com/512/1048/1048947.png" alt="Battery Trading">
        <h3>Th·ªã tr∆∞·ªùng pin</h3>
        <p>Giao d·ªãch pin nƒÉng l∆∞·ª£ng, ki·ªÉm ƒë·ªãnh ch·∫•t l∆∞·ª£ng v√† v√≤ng ƒë·ªùi s·∫£n ph·∫©m.</p>
        <a href="/battery" class="btn">Kh√°m ph√°</a>
    </div>

    <div class="card">
        <img src="https://cdn-icons-png.flaticon.com/512/2950/2950679.png" alt="About EV Trading">
        <h3>Gi·ªõi thi·ªáu</h3>
        <p>T√¨m hi·ªÉu th√™m v·ªÅ n·ªÅn t·∫£ng v√† s·ª© m·ªánh c·ªßa EV Trading Platform.</p>
        <a href="/about" class="btn">T√¨m hi·ªÉu</a>
    </div>
</section>

<!-- Footer -->
<footer class="footer">
    <p>¬© 2025 EV Trading Platform ‚ö° ‚Äî N·ªÅn t·∫£ng giao d·ªãch xe ƒëi·ªán &amp; pin ƒë√£ qua s·ª≠ d·ª•ng</p>
</footer>

</body>
</html>
